<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Smart Rods API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the SmartRods API! You can use this API to learn how to access SmartRods API endpoints, which allow you to obtain information on classrooms, activities and boards in our database.</p>

<p>We have language bindings in Shell and Python! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<h1 id="authentication">Authentication</h1>

<p>This API is secure to protect the information stored on the database. You will have to supply the username and password provided for each API call.</p>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">json</span><span class="p">,</span> <span class="n">requests</span>
<span class="kn">from</span> <span class="nn">requests.auth</span> <span class="kn">import</span> <span class="n">HTTPBasicAuth</span>
<span class="n">head</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-type'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">,</span>
             <span class="s">'Accept'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://app.smartrods.co.uk/api/&lt;endpoint&gt;'</span>
<span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="n">head</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">HTTPBasicAuth</span><span class="p">(</span><span class="s">'username'</span><span class="p">,</span><span class="s">'password'</span><span class="p">))</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -u username:password -i -X GET http://app.smartrods.co.uk/api/&lt;endpoint&gt;
</code></pre>
<p>Make sure to replace <code class="prettyprint">username</code> and <code class="prettyprint">password</code> with your the provided credentials and to specify a valid <code class="prettyprint">endpoint</code></p>

<h1 id="boardapi">BoardAPI</h1>

<h2 id="get-all-events-in-current-activity-for-a-specific-board">Get all events in current activity for a specific board</h2>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">json</span><span class="p">,</span> <span class="n">requests</span>
<span class="kn">from</span> <span class="nn">requests.auth</span> <span class="kn">import</span> <span class="n">HTTPBasicAuth</span>
<span class="n">head</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-type'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">,</span>
             <span class="s">'Accept'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://app.smartrods.co.uk/api/boards/&lt;board_id&gt;'</span>
<span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="n">head</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">HTTPBasicAuth</span><span class="p">(</span><span class="s">'username'</span><span class="p">,</span><span class="s">'password'</span><span class="p">))</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -u username:password -i -X GET http://app.smartrods.co.uk/api/boards/&lt;board_id&gt;
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"rods"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-16 15:17:27"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"rods"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{2,2,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0}}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-16 15:17:30.470000"</span><span class="w">
        </span><span class="p">},</span><span class="w">

        </span><span class="err">(...)</span><span class="w">

        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"rods"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{2,2,2,2,2,2,0,0,0,0},{2,2,2,2,2,2,0,0,0,0},{1,1,1,1,1,1,0,0,0,0},{2,2,1,2,2,1,0,0,0,0},{1,2,2,1,2,2,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0}}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-16 15:19:56.511000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_connected"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo User"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns basic information about the given board, and a list of all the events linked to it, which happened during the activity currently running in the corresponding classroom.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://app.smartrods.co.uk/api/boards/&lt;board_id&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>board_id</td>
<td>Yes</td>
<td>The ID of the board you are interested in</td>
</tr>
</tbody></table>

<h2 id="update-contents-of-a-specific-board">Update contents of a specific board</h2>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">json</span><span class="p">,</span> <span class="n">requests</span>
<span class="kn">from</span> <span class="nn">requests.auth</span> <span class="kn">import</span> <span class="n">HTTPBasicAuth</span>
<span class="n">head</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-type'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">,</span>
             <span class="s">'Accept'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://app.smartrods.co.uk/api/boards/&lt;board_id&gt;'</span>

<span class="n">timestamp</span> <span class="o">=</span> <span class="s">'2017-05-28 22:22:18'</span>

<span class="n">rods</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">]]</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span> <span class="s">'timestamp'</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
            <span class="s">'rods'</span><span class="p">:</span> <span class="n">rods</span> <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">head</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">HTTPBasicAuth</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">),</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payload</span><span class="p">))</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{"rods": [[10,10,10,10,10,10,10,10,10,10],[5,5,5,5,5,5,5,5,5,5],[1,9,9,9,9,9,9,9,9,9],[0,0,3,3,3,0,0,0,0,1],[4,4,4,4,4,4,4,4,0,0],[3,3,3,5,5,5,5,5,0,0],[5,5,5,5,5,3,3,3,0,0],[2,2,6,6,6,6,6,6,0,0],[0,0,1,7,7,7,7,7,7,7],[7,7,7,7,7,7,7,1,0,0]], "timestamp": "2017-06-12 22:23:21.566905"}'</span> http://localhost:5000/api/boards/1
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successfully updated contents of board 1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-18 17:46:21.566905"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you to update the contents of a specific board by providing a timestamp and a nested list (same notation as 2D array) which maps the rods to the grid on the board. It will return a message if the request has been successfully completed or if there has been an error, for example if the input is not in the right format.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://app.smartrods.co.uk/api/boards/&lt;board_id&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>board_id</td>
<td>Yes</td>
<td>The ID of the board you are interested in</td>
</tr>
<tr>
<td>timestamp</td>
<td>Yes</td>
<td>The timestamp of the new data</td>
</tr>
<tr>
<td>rods</td>
<td>Yes</td>
<td>A nested list (2D array) that represents the contents of the board</td>
</tr>
</tbody></table>

<h1 id="classroomapi">ClassroomAPI</h1>

<h2 id="get-latest-data-for-all-users-in-specific-classroom">Get latest data for all users in specific classroom</h2>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">json</span><span class="p">,</span> <span class="n">requests</span>
<span class="kn">from</span> <span class="nn">requests.auth</span> <span class="kn">import</span> <span class="n">HTTPBasicAuth</span>
<span class="n">head</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-type'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">,</span>
             <span class="s">'Accept'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://app.smartrods.co.uk/api/classrooms/&lt;classroom_id&gt;'</span>
<span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="n">head</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">HTTPBasicAuth</span><span class="p">(</span><span class="s">'username'</span><span class="p">,</span><span class="s">'password'</span><span class="p">))</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -u username:password -i -X GET http://app.smartrods.co.uk/api/classrooms/&lt;classroom_id&gt;
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"actions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Started activity: Number Bonds to 6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"outcomes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rods"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"statistics"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{'progression': 0, 'fluency': 0, 'success_count': 0, 'solutions_found': [], 'actions_count': 0, 'systematicity': 'none', 'accuracy': 0}"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fri, 16 Jun 2017 15:17:27 GMT"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">(...)</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"actions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Placed 2 (row 4) /  / "</span><span class="p">,</span><span class="w">
        </span><span class="s2">"outcomes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Found 1 new solution: 1+2+1+2 (row 4)"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rods"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{2,2,2,2,2,2,0,0,0,0},{2,2,2,2,2,2,0,0,0,0},{1,1,1,1,1,1,0,0,0,0},{2,2,1,2,2,1,0,0,0,0},{1,2,2,1,2,2,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0}}"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"statistics"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{'progression': 16, 'fluency': 0, 'success_count': 4, 'solutions_found': [[2, 2, 2], [1, 1, 1, 1, 1, 1], [2, 1, 2, 1], [1, 2, 1, 2]], 'actions_count': 21, 'systematicity': 'none', 'accuracy': 19}"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fri, 16 Jun 2017 15:19:56 GMT"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_connected"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_update"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-16 15:19:56.511000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo User"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"actions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Started activity: Number Bonds to 6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"outcomes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rods"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"statistics"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{'progression': 0, 'fluency': 0, 'success_count': 0, 'solutions_found': [], 'actions_count': 0, 'systematicity': 'none', 'accuracy': 0}"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fri, 16 Jun 2017 15:17:27 GMT"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_connected"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_update"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-16 15:17:27"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"George Constantinides"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">(...)</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint returns information about every user in a specific classroom, including all events that occured for each user during the current activity.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://app.smartrods.co.uk/api/classrooms/&lt;classroom_id&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>classroom_id</td>
<td>Yes</td>
<td>The ID of the classroom you are interested in</td>
</tr>
</tbody></table>

<h1 id="activityapi">ActivityAPI</h1>

<h2 id="get-information-about-activity-currently-running-in-a-specific-classroom">Get information about activity currently running in a specific classroom</h2>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">json</span><span class="p">,</span> <span class="n">requests</span>
<span class="kn">from</span> <span class="nn">requests.auth</span> <span class="kn">import</span> <span class="n">HTTPBasicAuth</span>
<span class="n">head</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-type'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">,</span>
             <span class="s">'Accept'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://app.smartrods.co.uk/api/classrooms/&lt;classrom_id&gt;/activities'</span>
<span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="n">head</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">HTTPBasicAuth</span><span class="p">(</span><span class="s">'username'</span><span class="p">,</span><span class="s">'password'</span><span class="p">))</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -u username:password -i -X GET http://app.smartrods.co.uk/api/classrooms/&lt;classrom_id&gt;/activities
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"activity_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">187</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Number Bonds to 6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activity_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">36</span><span class="p">,</span><span class="w">
    </span><span class="s2">"elapsed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00:05:11"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"paused"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"solution_max_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"started"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-16 15:17:27"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns basic information about the given board, and a list of all the events linked to it, which happened during the activity currently running in the corresponding classroom.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://app.smartrods.co.uk/api/classrooms/&lt;classrooms_id&gt;/activities</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>classroom_id</td>
<td>Yes</td>
<td>The ID of the classroom you are interested in</td>
</tr>
</tbody></table>

<h2 id="start-activity-with-given-type-in-a-specific-classroom">Start activity with given type in a specific classroom</h2>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">json</span><span class="p">,</span> <span class="n">requests</span>
<span class="kn">from</span> <span class="nn">requests.auth</span> <span class="kn">import</span> <span class="n">HTTPBasicAuth</span>
<span class="n">head</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-type'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">,</span>
             <span class="s">'Accept'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://app.smartrods.co.uk/api/classrooms/&lt;classroom_id&gt;/activities'</span>

<span class="n">action</span> <span class="o">=</span> <span class="s">'start'</span>

<span class="n">activity_type</span> <span class="o">=</span> <span class="mi">8</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span> <span class="s">'action'</span><span class="p">:</span> <span class="n">action</span><span class="p">,</span>
            <span class="s">'activity_type'</span><span class="p">:</span> <span class="n">activity_type</span> <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">head</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">HTTPBasicAuth</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">),</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payload</span><span class="p">))</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{"action": "start",
"activity_type": 8}'</span> http://localhost:5000/api/classrooms/&lt;classroom_id&gt;/activities
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Started activity: Number bonds to 10 in classroom 2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-18 17:46:21.566905"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you start a new activity in a specific classroom. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://app.smartrods.co.uk/api/classrooms/&lt;classroom_id&gt;/activities</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>classroom_id</td>
<td>Yes</td>
<td>The ID of the classroom you are interested in</td>
</tr>
<tr>
<td>action</td>
<td>Yes</td>
<td>The type of action to perform: reserved to <code class="prettyprint">start</code> actions for now</td>
</tr>
<tr>
<td>activity_type</td>
<td>Yes</td>
<td>The type ID of the activity you want to start</td>
</tr>
</tbody></table>

<h2 id="update-activity-with-given-type-in-a-specific-classroom">Update activity with given type in a specific classroom</h2>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">json</span><span class="p">,</span> <span class="n">requests</span>
<span class="kn">from</span> <span class="nn">requests.auth</span> <span class="kn">import</span> <span class="n">HTTPBasicAuth</span>
<span class="n">head</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-type'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">,</span>
             <span class="s">'Accept'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://app.smartrods.co.uk/api/classrooms/&lt;classroom_id&gt;/activities'</span>

<span class="n">action</span> <span class="o">=</span> <span class="s">'pause'</span> <span class="c"># or 'resume' or 'stop'</span>
<span class="n">activity_id</span> <span class="o">=</span> <span class="mi">104</span>
<span class="n">elapsed</span> <span class="o">=</span> <span class="s">'00:02:34'</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span> <span class="s">'action'</span><span class="p">:</span> <span class="n">action</span><span class="p">,</span>
            <span class="s">'activity_id'</span><span class="p">:</span> <span class="n">activity_type</span><span class="p">,</span>
            <span class="s">'elapsed'</span><span class="p">:</span> <span class="n">elapsed</span> <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">head</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">HTTPBasicAuth</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">),</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payload</span><span class="p">))</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{"action": "pause",
"activity_id": 104, "elapsed": "00:02:34"}'</span> http://localhost:5000/api/classrooms/&lt;classroom_id&gt;/activities
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paused activity: Number bonds to 10 in classroom 2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-18 17:46:21.566905"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint allows you update the status of a specific activity in a specific classroom. Actions possible are <code class="prettyprint">pause</code>, <code class="prettyprint">resume</code> and <code class="prettyprint">stop</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT http://app.smartrods.co.uk/api/classrooms/&lt;classroom_id&gt;/activities</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>classroom_id</td>
<td>Yes</td>
<td>The ID of the classroom you are interested in</td>
</tr>
<tr>
<td>action</td>
<td>Yes</td>
<td>The type of action to perform: <code class="prettyprint">pause</code>, <code class="prettyprint">resume</code> or <code class="prettyprint">stop</code></td>
</tr>
<tr>
<td>activity_id</td>
<td>Yes</td>
<td>The type ID of the activity you want to start</td>
</tr>
</tbody></table>

<h1 id="activitytypeapi">ActivityTypeAPI</h1>

<h2 id="get-activity-type-id-for-specific-activity-name-target-number-and-maximum-solution-size">Get activity type ID for specific activity name, target number and maximum solution size</h2>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">json</span><span class="p">,</span> <span class="n">requests</span>
<span class="kn">from</span> <span class="nn">requests.auth</span> <span class="kn">import</span> <span class="n">HTTPBasicAuth</span>
<span class="n">head</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-type'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">,</span>
             <span class="s">'Accept'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://app.smartrods.co.uk/api/activity_types'</span>

<span class="n">activity_name</span> <span class="o">=</span> <span class="s">'Number Bonds'</span>
<span class="n">target_number</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">solution_max_size</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span> <span class="s">'activity_name'</span><span class="p">:</span> <span class="n">activity_name</span><span class="p">,</span>
            <span class="s">'target_number'</span><span class="p">:</span> <span class="n">target_number</span><span class="p">,</span>
            <span class="s">'solution_max_size'</span><span class="p">:</span> <span class="n">solution_max_size</span> <span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">head</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">HTTPBasicAuth</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">),</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payload</span><span class="p">))</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Content-Type: application/json"</span> -X POST -d <span class="s1">'{"activity_name": "Number Bonds",
"target_number": 10, "solution_max_size": 2}'</span> http://localhost:5000/api/activity_types
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"activity_type_id"</span><span class="p">:</span><span class="mi">8</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns the type ID of an activity given its name, target number and maximum solution size.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://app.smartrods.co.uk/api/activity_types</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>activity_name</td>
<td>Yes</td>
<td>The name of the activity you are interested in</td>
</tr>
<tr>
<td>target_number</td>
<td>Yes</td>
<td>The target number of the activity you are interested in</td>
</tr>
<tr>
<td>solution_max_size</td>
<td>Yes</td>
<td>The maximum solution size of the activity you are interested in</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<p>The Smart Rods API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>
</html>
